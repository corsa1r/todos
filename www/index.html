<!DOCTYPE html>
<html ng-app="app">
    
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi">
        <title>TODOS App</title>
        <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/0.9.4/angular-material.min.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=RobotoDraft:300,400,500,700,400italic">
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-animate.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-aria.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angular_material/0.9.4/angular-material.min.js"></script>
        <script src="https://cdn.firebase.com/js/client/2.2.4/firebase.js"></script>
        <script src="https://cdn.firebase.com/libs/angularfire/1.1.2/angularfire.min.js"></script>
        <!-- <script type="text/javascript" src="cordova.js"></script> -->
        <script type="text/javascript" src="js/index-build.js"></script>
    </head>
    
    <body ng-controller="BaseController">
        <div style="padding: 3%; background-color: rgb(16, 108, 200);"></div>
        <md-tabs md-dynamic-height md-border-bottom>
            <md-tab label="Current tasks">
                <md-subheader class="md-primary">Your current tasks ({{total(false)}})</md-subheader>
                <md-list layout-padding>
                    <md-list-item class="md-3-line" ng-repeat="todo in todos | orderBy : 'priority' : true" ng-if="!todo.checked">
                        <div class="md-list-item-text">
                            <h3>
                                <span ng-repeat="_ in ((_ = []) && (_.length=todo.priority) && _) track by $index">!</span> 
                                at {{todo.date_added | date : 'dd.MMM.yyyy'}} ({{todo.date_added | date : 'HH:mm:ssa'}})
                            </h3>
                            <p>{{todo.text}}</p>
                        </div>
                        <md-checkbox class="md-secondary" ng-model="todo.checked" ng-change="toggle(todo)"></md-checkbox>
                        <md-divider></md-divider>
                    </md-list-item>
                </md-list>
            </md-tab>
            <md-tab label="Completed">
                <md-subheader class="md-primary">Your recently completed tasks ({{total(true)}})</md-subheader>
                <md-list layout-padding>
                    <md-list-item ng-repeat="todo in todos | orderBy : 'updated_date' : true" ng-if="todo.checked">
                        <p>{{ todo.text }}</p>
                        <md-checkbox class="md-secondary" ng-model="todo.checked" ng-change="toggle(todo)"></md-checkbox>
                        <md-divider></md-divider>
                    </md-list-item>
                </md-list>
            </md-tab>
            <md-tab label="new">
                <md-subheader class="md-no-sticky">Create new task</md-subheader>
                <md-input-container class="md-icon-float">
                    <label>enter task name here</label>
                    <input ng-model="taskName" type="text" md-minlength="10">
                </md-input-container>
                <md-subheader class="md-no-sticky">Set your priority</md-subheader>
                <md-slider flex md-discrete ng-model="priority" step="1" min="1" max="10" aria-label="rating"></md-slider>
                <md-button class="md-raised" ng-click="create()">Create the task</md-button>
            </md-tab>
        </md-tabs>
    </body>

</html>